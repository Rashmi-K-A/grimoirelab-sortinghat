(function(n){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],d=0,m=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&m.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,s||[]),e()}function e(){for(var n,t=0;t<o.length;t++){for(var e=o[t],r=!0,a=1;a<e.length;a++){var u=e[a];0!==i[u]&&(r=!1)}r&&(o.splice(t--,1),n=c(c.s=e[0]))}return n}var r={},a={app:0},i={app:0},o=[];function u(n){return c.p+"js/"+({}[n]||n)+"."+{"chunk-28ada990":"ed6acf12","chunk-2d2086b7":"f589cd81","chunk-528bd662":"0c9fb4ab","chunk-f7534b40":"2cbf9e5b","chunk-7b9baecf":"f73c9f28","chunk-56c218a5":"32ef1e3a"}[n]+".js"}function c(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.e=function(n){var t=[],e={"chunk-28ada990":1,"chunk-528bd662":1,"chunk-f7534b40":1,"chunk-7b9baecf":1,"chunk-56c218a5":1};a[n]?t.push(a[n]):0!==a[n]&&e[n]&&t.push(a[n]=new Promise((function(t,e){for(var r="css/"+({}[n]||n)+"."+{"chunk-28ada990":"e4f98af0","chunk-2d2086b7":"31d6cfe0","chunk-528bd662":"08b6f88d","chunk-f7534b40":"23a36c49","chunk-7b9baecf":"84b92434","chunk-56c218a5":"c54e671a"}[n]+".css",i=c.p+r,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var s=o[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===i))return t()}var m=document.getElementsByTagName("style");for(u=0;u<m.length;u++){s=m[u],d=s.getAttribute("data-href");if(d===r||d===i)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+n+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[n],l.parentNode.removeChild(l),e(o)},l.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(l)})).then((function(){a[n]=0})));var r=i[n];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,e){r=i[n]=[t,e]}));t.push(r[2]=o);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=u(n);var m=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(l);var e=i[n];if(0!==e){if(e){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;m.message="Loading chunk "+n+" failed.\n("+r+": "+a+")",m.name="ChunkLoadError",m.type=r,m.request=a,e[1](m)}i[n]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},c.m=n,c.c=r,c.d=function(n,t,e){c.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},c.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,t){if(1&t&&(n=c(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)c.d(e,r,function(t){return n[t]}.bind(null,r));return e},c.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return c.d(t,"a",t),t},c.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},c.p="/",c.oe=function(n){throw console.error(n),n};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var m=0;m<s.length;m++)t(s[m]);var l=d;o.push([0,"chunk-vendors"]),e()})({0:function(n,t,e){n.exports=e("56d7")},"0ae0":function(n,t,e){"use strict";e.d(t,"k",(function(){return V})),e.d(t,"h",(function(){return B})),e.d(t,"l",(function(){return N})),e.d(t,"e",(function(){return H})),e.d(t,"i",(function(){return J})),e.d(t,"m",(function(){return F})),e.d(t,"j",(function(){return M})),e.d(t,"g",(function(){return W})),e.d(t,"c",(function(){return Q})),e.d(t,"f",(function(){return Y})),e.d(t,"a",(function(){return K})),e.d(t,"d",(function(){return X})),e.d(t,"b",(function(){return R})),e.d(t,"o",(function(){return q})),e.d(t,"p",(function(){return G})),e.d(t,"n",(function(){return Z}));var r=e("8785"),a=e("9530"),i=e.n(a);function o(){var n=Object(r["a"])(["\n  mutation updateEnrollment(\n    $fromDate: DateTime!\n    $newFromDate: DateTime\n    $newToDate: DateTime\n    $organization: String!\n    $toDate: DateTime!\n    $uuid: String!\n  ) {\n    updateEnrollment(\n      fromDate: $fromDate\n      newFromDate: $newFromDate\n      newToDate: $newToDate\n      organization: $organization\n      toDate: $toDate\n      uuid: $uuid\n    ) {\n      uuid\n      individual {\n        isLocked\n        identities {\n          uuid\n          name\n          email\n          username\n          source\n        }\n        profile {\n          name\n          email\n          gender\n          isBot\n          country {\n            code\n            name\n          }\n        }\n        enrollments {\n          start\n          end\n          organization {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return o=function(){return n},n}function u(){var n=Object(r["a"])(["\n  mutation deleteOrganization($name: String!) {\n    deleteOrganization(name: $name) {\n      organization {\n        name\n      }\n    }\n  }\n"]);return u=function(){return n},n}function c(){var n=Object(r["a"])(["\n  mutation withdraw(\n    $uuid: String!\n    $organization: String!\n    $fromDate: DateTime\n    $toDate: DateTime\n  ) {\n    withdraw(\n      uuid: $uuid\n      organization: $organization\n      fromDate: $fromDate\n      toDate: $toDate\n    ) {\n      uuid\n      individual {\n        isLocked\n        identities {\n          uuid\n          name\n          email\n          username\n          source\n        }\n        profile {\n          name\n          email\n          gender\n          isBot\n          country {\n            code\n            name\n          }\n        }\n        enrollments {\n          start\n          end\n          organization {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return c=function(){return n},n}function s(){var n=Object(r["a"])(["\n  mutation deleteDomain($domain: String!) {\n    deleteDomain(domain: $domain) {\n      domain {\n        domain\n      }\n    }\n  }\n"]);return s=function(){return n},n}function d(){var n=Object(r["a"])(["\n  mutation updateProfile($data: ProfileInputType!, $uuid: String) {\n    updateProfile(data: $data, uuid: $uuid) {\n      uuid\n      individual {\n        isLocked\n        identities {\n          uuid\n          name\n          email\n          username\n          source\n        }\n        profile {\n          name\n          email\n          gender\n          isBot\n          country {\n            code\n            name\n          }\n        }\n        enrollments {\n          start\n          end\n          organization {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return d=function(){return n},n}function m(){var n=Object(r["a"])(["\n  mutation addDomain($domain: String!, $organization: String!) {\n    addDomain(domain: $domain, organization: $organization) {\n      domain {\n        domain\n        organization {\n          name\n        }\n      }\n    }\n  }\n"]);return m=function(){return n},n}function l(){var n=Object(r["a"])(["\n  mutation addIdentity(\n    $email: String\n    $name: String\n    $source: String!\n    $username: String\n  ) {\n    addIdentity(\n      email: $email\n      name: $name\n      source: $source\n      username: $username\n    ) {\n      uuid\n    }\n  }\n"]);return l=function(){return n},n}function f(){var n=Object(r["a"])(["\n  mutation addOrganization($name: String!) {\n    addOrganization(name: $name) {\n      organization {\n        name\n      }\n    }\n  }\n"]);return f=function(){return n},n}function v(){var n=Object(r["a"])(["\n  mutation enroll(\n    $uuid: String!\n    $organization: String!\n    $fromDate: DateTime\n    $toDate: DateTime\n  ) {\n    enroll(\n      uuid: $uuid\n      organization: $organization\n      fromDate: $fromDate\n      toDate: $toDate\n    ) {\n      uuid\n      individual {\n        isLocked\n        identities {\n          name\n          source\n          email\n          uuid\n          username\n        }\n        profile {\n          name\n          id\n        }\n        enrollments {\n          start\n          end\n          organization {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return v=function(){return n},n}function p(){var n=Object(r["a"])(["\n  mutation moveIdentity($fromUuid: String!, $toUuid: String!) {\n    moveIdentity(fromUuid: $fromUuid, toUuid: $toUuid) {\n      uuid\n      individual {\n        mk\n        isLocked\n        identities {\n          name\n          source\n          email\n          uuid\n          username\n        }\n        profile {\n          name\n          id\n        }\n        enrollments {\n          organization {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return p=function(){return n},n}function g(){var n=Object(r["a"])(["\n  mutation unmerge($uuids: [String!]) {\n    unmergeIdentities(uuids: $uuids) {\n      uuids\n      individuals {\n        mk\n        isLocked\n        profile {\n          name\n          id\n          isBot\n        }\n        identities {\n          name\n          source\n          email\n          uuid\n          username\n        }\n        enrollments {\n          start\n          end\n          organization {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return g=function(){return n},n}function h(){var n=Object(r["a"])(["\n  mutation Merge($fromUuids: [String!], $toUuid: String!) {\n    merge(fromUuids: $fromUuids, toUuid: $toUuid) {\n      uuid\n      individual {\n        mk\n        isLocked\n        identities {\n          name\n          source\n          email\n          uuid\n          username\n        }\n        profile {\n          name\n          id\n        }\n        enrollments {\n          organization {\n            name\n          }\n          start\n          end\n        }\n      }\n    }\n  }\n"]);return h=function(){return n},n}function b(){var n=Object(r["a"])(["\n  mutation DeleteIdentity($uuid: String!) {\n    deleteIdentity(uuid: $uuid) {\n      uuid\n    }\n  }\n"]);return b=function(){return n},n}function k(){var n=Object(r["a"])(["\n  mutation UnlockIndividual($uuid: String!) {\n    unlock(uuid: $uuid) {\n      uuid\n      individual {\n        isLocked\n      }\n    }\n  }\n"]);return k=function(){return n},n}function $(){var n=Object(r["a"])(["\n  mutation LockIndividual($uuid: String!) {\n    lock(uuid: $uuid) {\n      uuid\n      individual {\n        isLocked\n      }\n    }\n  }\n"]);return $=function(){return n},n}function y(){var n=Object(r["a"])(["\n  mutation tokenAuth($username: String!, $password: String!) {\n    tokenAuth(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return y=function(){return n},n}var w=i()(y()),S=i()($()),D=i()(k()),O=i()(b()),j=i()(h()),_=i()(g()),z=i()(p()),L=i()(v()),T=i()(f()),A=i()(l()),E=i()(m()),U=i()(d()),I=i()(s()),P=i()(c()),C=i()(u()),x=i()(o()),V=function(n,t,e){var r=n.mutate({mutation:w,variables:{username:t,password:e}});return r},B=function(n,t){var e=n.mutate({mutation:S,variables:{uuid:t}});return e},N=function(n,t){var e=n.mutate({mutation:D,variables:{uuid:t}});return e},H=function(n,t){var e=n.mutate({mutation:O,variables:{uuid:t}});return e},J=function(n,t,e){var r=n.mutate({mutation:j,variables:{fromUuids:t,toUuid:e}});return r},F=function(n,t){var e=n.mutate({mutation:_,variables:{uuids:t}});return e},M=function(n,t,e){var r=n.mutate({mutation:z,variables:{fromUuid:t,toUuid:e}});return r},W=function(n,t,e,r,a){var i=n.mutate({mutation:L,variables:{uuid:t,organization:e,fromDate:r,toDate:a}});return i},R=function(n,t,e,r,a){var i=n.mutate({mutation:A,variables:{email:t,name:e,source:r,username:a}});return i},q=function(n,t,e){var r=n.mutate({mutation:U,variables:{data:t,uuid:e}});return r},Q=function(n,t){var e=n.mutate({mutation:T,variables:{name:t}});return e},K=function(n,t,e){var r=n.mutate({mutation:E,variables:{domain:t,organization:e}});return r},X=function(n,t){var e=n.mutate({mutation:I,variables:{domain:t}});return e},G=function(n,t,e,r,a){var i=n.mutate({mutation:P,variables:{uuid:t,organization:e,fromDate:r,toDate:a}});return i},Y=function(n,t){var e=n.mutate({mutation:C,variables:{name:t}});return e},Z=function(n,t){var e=n.mutate({mutation:x,variables:{fromDate:t.fromDate,newFromDate:t.newFromDate,newToDate:t.newToDate,organization:t.organization,toDate:t.toDate,uuid:t.uuid}});return e}},"56d7":function(n,t,e){"use strict";e.r(t);e("d3b7");var r=e("5530"),a=(e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("2b0e")),i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-app",[e("v-app-bar",{staticClass:"pl-6 pr-6",attrs:{app:"",color:"primary",dark:"",dense:"",flat:""}},[e("router-link",{attrs:{to:"/"},scopedSlots:n._u([{key:"default",fn:function(t){var r=t.href,a=t.navigate;return[e("h1",{staticClass:"text-h6 pointer",attrs:{href:r},on:{click:a}},[n._v(" Sorting Hat ")])]}}])}),e("v-spacer"),n.user&&"Login"!==n.$route.name?e("v-menu",{attrs:{"offset-y":""},scopedSlots:n._u([{key:"activator",fn:function(t){var r=t.on;return[e("v-btn",n._g({attrs:{depressed:"",small:"",color:"primary"}},r),[e("v-icon",{attrs:{small:"",left:""}},[n._v(" mdi-account-circle ")]),n._v(" "+n._s(n.user)+" "),e("v-icon",{attrs:{small:"",right:""}},[n._v(" mdi-chevron-down ")])],1)]}}],null,!1,1768669314)},[e("v-list",{attrs:{color:"primary",dark:"",dense:""}},[e("v-list-item",{attrs:{to:"/"}},[e("v-list-item-icon",{staticClass:"mr-2"},[e("v-icon",{attrs:{small:""}},[n._v("mdi-view-dashboard-variant")])],1),e("v-list-item-title",[n._v("Dashboard")])],1),e("v-divider"),e("v-list-item",{attrs:{to:"/jobs"}},[e("v-list-item-icon",{staticClass:"mr-2"},[e("v-icon",{attrs:{small:""}},[n._v("mdi-tray-full")])],1),e("v-list-item-title",[n._v("Jobs")])],1),e("v-divider"),e("v-list-item",{on:{click:n.logOut}},[e("v-list-item-icon",{staticClass:"mr-2"},[e("v-icon",{attrs:{small:""}},[n._v("mdi-logout-variant")])],1),e("v-list-item-title",[n._v("Log out")])],1)],1)],1):n._e()],1),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)},o=[],u=e("a78e"),c=e.n(u),s={name:"App",computed:{user:function(){return this.$store.state.user}},methods:{logOut:function(){c.a.remove("sh_authtoken"),c.a.remove("sh_user"),this.$store.commit("setToken",void 0),this.$store.commit("loginUser",void 0),this.$router.push("/login"),this.$logger.info("Log out user ".concat(this.user))}},watch:{$route:{immediate:!0,handler:function(n){document.title=n.meta.title||"Sorting Hat"}}}},d=s,m=(e("5c0b"),e("2877")),l=e("6544"),f=e.n(l),v=e("7496"),p=e("40dc"),g=e("8336"),h=e("ce7e"),b=e("132d"),k=e("8860"),$=e("da13"),y=e("34c3"),w=e("5d23"),S=e("e449"),D=e("2fa4"),O=Object(m["a"])(d,i,o,!1,null,null,null),j=O.exports;f()(O,{VApp:v["a"],VAppBar:p["a"],VBtn:g["a"],VDivider:h["a"],VIcon:b["a"],VList:k["a"],VListItem:$["a"],VListItemIcon:y["a"],VListItemTitle:w["c"],VMenu:S["a"],VSpacer:D["a"]});e("45fc");var _=e("8c4f"),z=(e("d81d"),e("96cf"),e("1da1")),L=e("2f62"),T=e("0ae0");a["a"].use(L["a"]);var A=new L["a"].Store({state:{token:c.a.get("sh_authtoken"),user:c.a.get("sh_user"),workspace:JSON.parse(localStorage.getItem("sh_workspace"))},mutations:{setToken:function(n,t){n.token=t},loginUser:function(n,t){n.user=t},setWorkspace:function(n,t){n.workspace=t}},getters:{isAuthenticated:function(n){return!!n.token},user:function(n){return n.user},workspace:function(n){return n.workspace}},actions:{login:function(n,t){return Object(z["a"])(regeneratorRuntime.mark((function e(){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.commit,e.next=3,Object(T["k"])(t.apollo,t.username,t.password);case 3:if(a=e.sent,!a||a.errors){e.next=11;break}return i=a.data.tokenAuth.token,r("setToken",i),c.a.set("sh_authtoken",i,{sameSite:"strict"}),r("loginUser",t.username),c.a.set("sh_user",t.username,{sameSite:"strict"}),e.abrupt("return",i);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))()},saveWorkspace:function(n,t){var e=n.commit,r=t.map((function(n){return n.uuid}));localStorage.setItem("sh_workspace",JSON.stringify(r)),e("setWorkspace",r)},emptyWorkspace:function(n){var t=n.commit;localStorage.setItem("sh_workspace",JSON.stringify([])),t("setWorkspace",[])}},modules:{}}),E=[{path:"/",name:"Dashboard",component:function(){return Promise.all([e.e("chunk-28ada990"),e.e("chunk-528bd662"),e.e("chunk-f7534b40")]).then(e.bind(null,"7277"))},meta:{requiresAuth:!0,title:"Sorting Hat"}},{path:"/login",name:"Login",component:function(){return Promise.all([e.e("chunk-28ada990"),e.e("chunk-2d2086b7")]).then(e.bind(null,"a55b"))},meta:{title:"Log in - Sorting Hat"}},{path:"/search-help",name:"SearchHelp",component:function(){return e.e("chunk-56c218a5").then(e.bind(null,"92c5"))},meta:{title:"Search Help - Sorting Hat"}},{path:"/jobs",name:"Jobs",component:function(){return Promise.all([e.e("chunk-528bd662"),e.e("chunk-7b9baecf")]).then(e.bind(null,"ee68"))},meta:{title:"Jobs - Sorting Hat"}}],U=new _["a"]({mode:"history",routes:E});U.beforeEach((function(n,t,e){var r=A.getters.isAuthenticated;n.matched.some((function(n){return n.meta.requiresAuth}))?r?e():e({path:"/login"}):"/login"===n.path&&r?e({path:"/"}):e()}));var I=U,P=(e("5363"),e("f309"));a["a"].use(P["a"]);var C={icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#003756",secondary:"#f4bc00"}}}},x=new P["a"](C),V=e("522d"),B=e("74ca"),N=e("478e"),H=e("2bf2"),J=e("d634"),F=(e("99af"),{install:function(n){function t(n,t){var e;if("debug"!==n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];(e=console)[n].apply(e,[t].concat(a))}}n.prototype.$logger={error:function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return t.apply(void 0,["error",n].concat(r))},debug:function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return t.apply(void 0,["debug",n].concat(r))},log:function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return t.apply(void 0,["log",n].concat(r))},info:function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return t.apply(void 0,["info",n].concat(r))},warn:function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return t.apply(void 0,["warn",n].concat(r))}}}}),M=(e("a15b"),{install:function(n){var t={14:"The individual is already enrolled in the organization on the\n        selected dates.",129:"Invalid credentials. Please check your username and password and\n        try again."};n.prototype.$getErrorMessage=function(n){return n.graphQLErrors&&n.graphQLErrors.length>0?n.graphQLErrors.map((function(n){var e=n.extensions.code;return t[e]||n.message})).join(". "):n.networkError?n.networkError.result?n.networkError.result.errors.map((function(n){return n.message})).join(". "):n.networkError.message:n.message}}}),W=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL||"/api/";fetch(W,{credentials:"include"}).then((function(){var n=c.a.get("csrftoken"),t=Object(N["a"])({uri:W,credentials:"include"}),e=new H["a"],i=function(t,e){var a=n,i=c.a.get("sh_authtoken");return t.setContext((function(n){return Object(r["a"])(Object(r["a"])({},n),{},{headers:Object(r["a"])(Object(r["a"])({},n.headers),{},{"X-CSRFToken":a,Authorization:i?"JWT ".concat(i):""})})})),e(t)},o=J["a"].from([i,t]),u=new B["a"]({link:o,cache:e});a["a"].use(V["a"]),a["a"].use(_["a"]),a["a"].use(F),a["a"].use(M);var s=new V["a"]({defaultClient:u});a["a"].config.productionTip=!1,new a["a"]({router:I,store:A,vuetify:x,apolloProvider:s,render:function(n){return n(j)}}).$mount("#app")}))},"5c0b":function(n,t,e){"use strict";var r=e("7694"),a=e.n(r);a.a},7694:function(n,t,e){}});
//# sourceMappingURL=app.3f55980f.js.map